from datetime import datetime, timedelta

def get_last_friday():
    today = datetime.today()
    offset = (today.weekday() - 4) % 7  # 4表示周五对应的weekday，计算当前日期到上一个周五的偏移量
    last_friday = today - timedelta(days=offset)
    return last_friday.date()

# 示例用法
last_friday = get_last_friday()
print("上一周周五的日期:", last_friday)


========


ChatGPT
要获取上一个月的最后一个工作日的日期，可以结合使用 Python 的 datetime 和 calendar 模块。下面是一个实现的示例代码：

python
复制代码
from datetime import datetime, timedelta
import calendar

def last_workday_of_previous_month():
    today = datetime.today()
    # 计算上一个月的年份和月份
    if today.month == 1:
        previous_month_year = today.year - 1
        previous_month = 12
    else:
        previous_month_year = today.year
        previous_month = today.month - 1
    
    # 获取上一个月的最后一天日期
    last_day_of_previous_month = datetime(previous_month_year, previous_month, 1) - timedelta(days=1)
    
    # 找到上一个月的最后一个工作日日期
    while last_day_of_previous_month.weekday() > calendar.FRIDAY:
        last_day_of_previous_month -= timedelta(days=1)
    
    return last_day_of_previous_month.date()
